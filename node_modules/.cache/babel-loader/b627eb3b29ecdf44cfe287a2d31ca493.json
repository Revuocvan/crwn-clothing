{"ast":null,"code":"import _defineProperty from\"/Users/matasdamb/Documents/reacting/crwn-clothing/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/matasdamb/Documents/reacting/crwn-clothing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/matasdamb/Documents/reacting/crwn-clothing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/matasdamb/Documents/reacting/crwn-clothing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/matasdamb/Documents/reacting/crwn-clothing/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from\"react\";import FormInput from\"../form-input/form-input.component.jsx\";import Button from\"../button/button.component.jsx\";import{createAuthUserWithEmailAndPassword,createUserDocumentFromAuth}from\"../../utils/firebase/firebase.utils.js\";import\"./sign-up-form.styles.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={displayName:'',email:'',password:'',confirmPassword:''};var SignUpForm=function SignUpForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var displayName=formFields.displayName,email=formFields.email,password=formFields.password,confirmPassword=formFields.confirmPassword;console.log(formFields);var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _yield$createAuthUser,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(password!==confirmPassword)){_context.next=4;break;}alert(\"passwords do not match\");return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return createAuthUserWithEmailAndPassword(email,password);case 7:_yield$createAuthUser=_context.sent;user=_yield$createAuthUser.user;_context.next=11;return createUserDocumentFromAuth(user,{displayName:displayName});case 11:resetFormFields();_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);if(_context.t0.code===\"auth/email-already-in-use\"){alert(\"e-mail already in use\");}console.log(_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up here\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Display Name\",type:\"text\",required:true,onChange:handleChange,name:\"displayName\",value:displayName}),/*#__PURE__*/_jsx(FormInput,{label:\"E-mail\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsx(FormInput,{label:\"Confirm password\",type:\"password\",required:true,onChange:handleChange,name:\"confirmPassword\",value:confirmPassword}),/*#__PURE__*/_jsx(Button,{buttonType:\"google\",type:\"submit\",children:\"Sign up\"})]})]});};export default SignUpForm;","map":{"version":3,"names":["useState","FormInput","Button","createAuthUserWithEmailAndPassword","createUserDocumentFromAuth","defaultFormFields","displayName","email","password","confirmPassword","SignUpForm","formFields","setFormFields","console","log","resetFormFields","handleSubmit","event","preventDefault","alert","user","code","handleChange","target","name","value"],"sources":["/Users/matasdamb/Documents/reacting/crwn-clothing/src/components/sign-up-form/sign-up-form.component.jsx"],"sourcesContent":["import { useState } from \"react\";\n\n\nimport FormInput from \"../form-input/form-input.component.jsx\";\nimport Button from \"../button/button.component.jsx\";\nimport { createAuthUserWithEmailAndPassword, createUserDocumentFromAuth } from \"../../utils/firebase/firebase.utils.js\";\nimport \"./sign-up-form.styles.scss\";\n\nconst defaultFormFields = {\n    displayName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n};\n\nconst SignUpForm = () => {\n\n    const [formFields, setFormFields] = useState(defaultFormFields);\n    const { displayName, email, password, confirmPassword} = formFields;\n\n    console.log(formFields);\n\n    const resetFormFields = () => {\n        setFormFields(defaultFormFields);\n    }\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        \n        if(password !== confirmPassword){\n            alert(\"passwords do not match\");\n            return;\n        }\n\n        try{\n            const {user} = await createAuthUserWithEmailAndPassword(email, password);\n            await createUserDocumentFromAuth(user, { displayName });\n            resetFormFields();\n\n        } catch(error){\n            if(error.code === \"auth/email-already-in-use\"){\n                alert(\"e-mail already in use\");\n            }\n            console.log(error);\n        }\n    }\n\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n\n        setFormFields({...formFields, [name]: value});\n    }\n\n    return (\n        <div className=\"sign-up-container\">\n            <h2>Don't have an account?</h2>\n            <span>Sign up here</span>\n            <form onSubmit={handleSubmit}>\n                <FormInput label=\"Display Name\" type=\"text\" required onChange={handleChange} name=\"displayName\" value={displayName}/>\n\n                <FormInput label=\"E-mail\" type=\"email\" required onChange={handleChange} name=\"email\" value={email}/>\n\n                <FormInput label=\"Password\" type=\"password\" required onChange={handleChange} name=\"password\" value={password}/>\n\n                <FormInput label=\"Confirm password\" type=\"password\" required onChange={handleChange} name=\"confirmPassword\" value={confirmPassword}/>\n                <Button buttonType='google' type=\"submit\">Sign up</Button>\n            </form>\n        </div>\n    );\n}\n\nexport default SignUpForm;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}